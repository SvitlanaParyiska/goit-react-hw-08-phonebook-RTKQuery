"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[529],{9529:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r,a=n(2791),i=n(168),o=n(9256).zo.div(r||(r=(0,i.Z)(["\n  text-align: center;\n  font-size: 20px;\n  width: 400px;\n  padding: 10px;\n  margin: 0 auto;\n"]))),s=n(4165),c=n(5861),u=n(9439),d=n(3855),l=n(3871),x=n(2286),p=n(4554),h=n(1165),m=n(4294),f=n(5218),v=n(184),b=function(e){e.createContact;var t=(0,d.I0)(),n=(0,a.useState)(""),r=(0,u.Z)(n,2),i=r[0],o=r[1],b=(0,a.useState)(""),Z=(0,u.Z)(b,2),g=Z[0],j=Z[1],y=(0,d.v9)(x.Af),w=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=n.target,!y.find((function(e){return e.name.toLowerCase()===i.toLowerCase()}))){e.next=6;break}return f.ZP.error("".concat(i," is already in contacts!"),{duration:3e3,position:"top-right"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,t((0,l.uK)({name:i,number:g})).unwrap();case 9:return f.ZP.success("Contact was added!",{duration:3e3,position:"top-right"}),e.next=12,t((0,l.yF)()).unwrap();case 12:o(""),j(""),r.reset(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),f.ZP.error("Something was wrong. Please try again!",{duration:3e3,position:"top-right"});case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(p.Z,{component:"form",sx:{p:3,display:"flex",flexDirection:"column",gap:"10px",maxWidth:"400px",boxShadow:"0 0 10px 1px grey",borderRadius:"5px",mb:2,mt:2},onSubmit:w,noValidate:!0,autoComplete:"off",children:[(0,v.jsx)(h.Z,{required:!0,id:"standard-text",label:"Name",type:"text",value:i,variant:"standard",onChange:function(e){return o(e.target.value)}}),(0,v.jsx)(h.Z,{required:!0,id:"standard-number",label:"Number",type:"tel",value:g,variant:"standard",onChange:function(e){return j(e.target.value)}}),(0,v.jsx)(m.Z,{variant:"contained",type:"submit",children:"Add contact"})]})},Z=n(6711),g=n(8384),j=n(3400),y=function(e){var t=e.handleEdit,n=e.oldName,r=e.oldNumber,i=e.cancelEdit,o=(0,a.useState)(n),s=(0,u.Z)(o,2),c=s[0],d=s[1],l=(0,a.useState)(r),x=(0,u.Z)(l,2),m=x[0],f=x[1];return(0,v.jsxs)(p.Z,{component:"form",sx:{p:1,display:"flex",gap:"5px",maxWidth:"300px"},onSubmit:function(e){e.preventDefault();var n=e.target;t({name:c,number:m}),d(""),f(""),n.reset()},noValidate:!0,autoComplete:"off",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(h.Z,{required:!0,id:"standard-text",label:"Name",type:"text",defaultValue:c,variant:"standard",onChange:function(e){return d(e.target.value)}})," ",(0,v.jsx)(h.Z,{required:!0,id:"standard-number",label:"Number",type:"tel",defaultValue:m,variant:"standard",onChange:function(e){return f(e.target.value)}})]}),(0,v.jsx)(j.Z,{"aria-label":"done",color:"success",type:"submit",children:(0,v.jsx)(g.Z,{})}),(0,v.jsx)(j.Z,{"aria-label":"done",color:"error",type:"button",onClick:i,children:(0,v.jsx)(Z.Z,{})})]})},w=n(9504),C=n(890),k=n(1889),S=n(7621),P=n(9585),F=n(3044),N=n(2363),q=n(2575),A=n(7247),E=function(e){var t,n,r=e.contact,i=(0,a.useState)(!1),o=(0,u.Z)(i,2),x=o[0],h=o[1],m=(0,d.I0)(),b=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m((0,l.GK)(t)).unwrap();case 3:return e.next=5,m((0,l.yF)()).unwrap();case 5:f.ZP.success("Contact was deleted!",{duration:3e3,position:"top-right"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.ZP.error("Something was wrong. Please try again!",{duration:3e3,position:"top-right"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.number,e.prev=1,e.next=4,m((0,l._n)({contactId:r.id,name:n,number:a})).unwrap();case 4:m((0,l.yF)()),f.ZP.success("Contact was edited!",{duration:3e3,position:"top-right"}),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f.ZP.error("Something was wrong. Please try again!",{duration:3e3,position:"top-right"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(k.ZP,{item:!0,children:(0,v.jsx)(S.Z,{sx:{boxShadow:"0 0 10px 1px grey",borderRadius:"5px"},children:(0,v.jsxs)(p.Z,{sx:{display:"flex",maxWidth:"400px",gap:"10px",justifyContent:"space-between"},children:[(0,v.jsx)(P.Z,{avatar:(0,v.jsx)(F.Z,{sx:{bgcolor:"primary.main"},"aria-label":"contact",children:null===(t=r.name)||void 0===t||null===(n=t.at(0))||void 0===n?void 0:n.toUpperCase()})}),x?(0,v.jsx)(y,{handleEdit:Z,oldName:r.name,oldNumber:r.number,cancelEdit:function(){h(!1)}}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(w.Z,{children:[(0,v.jsx)(C.Z,{variant:"h5",color:"text.secondary",children:r.name}),(0,v.jsx)(C.Z,{variant:"body2",sx:{fontSize:16},color:"text.secondary",children:r.number})]}),(0,v.jsxs)(N.Z,{disableSpacing:!0,children:[(0,v.jsx)(j.Z,{edge:"end",color:"primary",sx:{mr:1},"aria-label":"editContact",onClick:function(){h(!0)},children:(0,v.jsx)(q.Z,{})}),(0,v.jsx)(j.Z,{edge:"end",color:"primary","aria-label":"deleteContact",sx:{mr:.5},onClick:function(){return b(r.id)},children:(0,v.jsx)(A.Z,{})})]})]})]})})},r.id)})},I=function(){var e=(0,d.v9)(x.hF);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(k.ZP,{container:!0,direction:"column",spacing:2,justifyContent:"center",children:e.map((function(e){return(0,v.jsx)(E,{contact:e},e.id)}))})})},V=n(6895),_=function(){var e=(0,d.I0)();return(0,v.jsx)(p.Z,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"25ch"},mb:2},noValidate:!0,autoComplete:"off",children:(0,v.jsx)(h.Z,{id:"outlined-multiline-static",label:"Filter by name",type:"text",name:"filter",sx:{boxShadow:"0 0 5px 0.5px grey",borderRadius:"5px"},onChange:function(t){e((0,V.T)(t.target.value.toLowerCase()))},value:(0,d.v9)(x.AD)})})},z=function(e){var t=e.text;return(0,v.jsx)("p",{children:t})};function D(){var e=(0,d.v9)(x.Af),t=(0,d.v9)(x.xU),n=(0,d.v9)(x.zh),r=(0,d.I0)();return(0,a.useEffect)((function(){r((0,l.yF)())}),[r]),(0,v.jsxs)(o,{children:[(0,v.jsx)("h1",{children:"Phonebook"}),(0,v.jsx)(b,{}),(0,v.jsx)("h2",{children:"Contacts"}),e.length>0?(0,v.jsx)(_,{}):(0,v.jsx)(z,{text:"Your phonebook is empty. Add first contact!"}),t&&!n&&(0,v.jsx)("b",{children:"Request in progress..."}),(0,v.jsx)(I,{})]})}}}]);
//# sourceMappingURL=529.c0a7a585.chunk.js.map